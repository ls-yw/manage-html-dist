(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7303b0a3"],{"93be":function(t,o,e){},e7bb:function(t,o,e){"use strict";e.r(o);var a=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"app-container"},[e("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("span",[t._v("搜索")])]),e("el-form",{ref:"form",attrs:{rules:t.rules,inline:!0,model:t.searchObj,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"采集类型",prop:"source"}},[e("el-select",{attrs:{placeholder:"活动区域"},model:{value:t.searchObj.source,callback:function(o){t.$set(t.searchObj,"source",o)},expression:"searchObj.source"}},[e("el-option",{attrs:{label:"旧版看书神器",value:"jbzssq"}})],1)],1),e("el-form-item",{attrs:{label:"关键字",prop:"keyword"}},[e("el-input",{model:{value:t.searchObj.keyword,callback:function(o){t.$set(t.searchObj,"keyword",o)},expression:"searchObj.keyword"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.goSearch}},[t._v("搜索")])],1)],1),e("div",{staticClass:"search-list"},t._l(t.list,(function(o,a){return e("div",{key:a,staticClass:"item"},[e("el-row",[e("el-col",{staticClass:"thumb-img",attrs:{span:4}},[e("el-image",{attrs:{src:o.thumb_img,fit:"scale-down"}})],1),e("el-col",{staticClass:"info",attrs:{span:18}},[e("div",{staticClass:"id"},[e("label",[t._v("ID：")]),t._v(t._s(o.id))]),e("div",{staticClass:"title"},[e("label",[t._v("书名：")]),t._v(t._s(o.name))]),e("div",{staticClass:"author"},[e("label",[t._v("作者：")]),t._v(t._s(o.author))]),e("div",{staticClass:"status"},[e("label",[t._v("状态：")]),t._v(t._s(o.status))]),e("div",{staticClass:"category_name"},[e("label",[t._v("分类：")]),t._v(t._s(o.category_name))]),e("div",{staticClass:"last-article"},[e("label",[t._v("最新章节：")]),t._v(t._s(o.last_article))]),e("div",{staticClass:"last-time"},[e("label",[t._v("更新时间：")]),t._v(t._s(o.last_time))]),e("div",{staticClass:"desc"},[e("label",[t._v("简介：")]),t._v(t._s(o.desc))])]),e("el-col",{staticClass:"handle",attrs:{span:2}},[e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.goCollect(o)}}},[t._v("采集")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleLook(o)}}},[t._v("查看")])],1)],1),e("el-divider")],1)})),0)],1),e("el-dialog",{staticClass:"confirm-info",attrs:{title:t.waitCollectBookInfo.name,visible:t.dialogConfirmInfo,width:"30%"},on:{"update:visible":function(o){t.dialogConfirmInfo=o}}},[e("el-descriptions",{attrs:{column:1}},[e("el-descriptions-item",{attrs:{label:"ID"}},[t._v(t._s(t.waitCollectBookInfo.id))]),e("el-descriptions-item",{attrs:{label:"书名"}},[t._v(t._s(t.waitCollectBookInfo.name))]),e("el-descriptions-item",{attrs:{label:"作者"}},[t._v(t._s(t.waitCollectBookInfo.author))]),e("el-descriptions-item",{attrs:{label:"分类"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.waitCollectBookInfo.category,callback:function(o){t.$set(t.waitCollectBookInfo,"category",o)},expression:"waitCollectBookInfo.category"}},t._l(t.categoryPairs,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),t._v(" "+t._s(t.waitCollectBookInfo.category_name)+" ")],1),e("el-descriptions-item",{attrs:{label:"状态"}},[t._v(t._s(t.waitCollectBookInfo.status))]),e("el-descriptions-item",{attrs:{label:"简介"}},[t._v(t._s(t.waitCollectBookInfo.desc))])],1),e("div",{staticClass:"btn"},[e("el-button",{attrs:{type:"success"},on:{click:t.confirmCollect}},[t._v("确定采集")]),e("el-button",{on:{click:function(o){t.dialogConfirmInfo=!1}}},[t._v("取消")])],1)],1),e("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogInfoLoading,expression:"dialogInfoLoading"}],attrs:{title:"章节列表",visible:t.dialogInfo,width:"80%"},on:{"update:visible":function(o){t.dialogInfo=o}}},[e("div",{staticClass:"info-box"},[e("div",{staticClass:"list"},t._l(t.lookList,(function(o,a){return e("div",{key:a},[e("div",{staticClass:"dt"},[t._v(t._s(o.name))]),e("ul",t._l(o.list,(function(a,l){return e("li",{key:l,on:{click:function(e){return t.lookArticle(o.bookId,a.id)}}},[t._v(t._s(a.name))])})),0)])})),0)])]),e("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.dialogInfoContentLoading,expression:"dialogInfoContentLoading"}],attrs:{title:"文章内容",visible:t.dialogInfoContent,width:"60%"},on:{"update:visible":function(o){t.dialogInfoContent=o}}},[e("el-form",{ref:"form",staticClass:"info-content-box",attrs:{"label-width":"150px"}},t._l(t.lookContent,(function(o,a){return e("el-form-item",{key:a,class:a,attrs:{label:a}},[t._v(" "+t._s(o)+" ")])})),1)],1)],1)},l=[],n=e("5530"),i=(e("d3b7"),e("b0c0"),e("b775"));function s(t){return Object(i["a"])({url:"/novel/appCollect/search",method:"get",params:t})}function r(t){return Object(i["a"])({url:"/novel/appCollect/collect",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/novel/appCollect/check",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/novel/appCollect/look",method:"get",params:t})}function u(t){return Object(i["a"])({url:"/novel/appCollect/lookContent",method:"get",params:t})}var f=e("eac9"),v={name:"App",data:function(){return{searchObj:{source:"jbzssq",keyword:"夜的命名术"},rules:{keyword:[{required:!0,message:"请填写搜索关键字",trigger:"blur"}]},list:[],loading:!1,dialogConfirmInfo:!1,dialogInfo:!1,waitCollectBookInfo:{category:0},categoryPairs:[],dialogInfoLoading:!1,dialogInfoContentLoading:!1,dialogInfoContent:!1,lookList:[],lookContent:{}}},created:function(){this.getCategoryPairs()},methods:{goSearch:function(){var t=this;this.$refs["form"].validate((function(o){o&&(t.loading=!0,s(t.searchObj).then((function(o){t.list=o.data})).finally((function(){t.loading=!1})))}))},goCollect:function(t){var o=this;this.loading=!0,c({source:this.searchObj.source,name:t.name,author:t.author}).then((function(e){o.waitCollectBookInfo=t,o.dialogConfirmInfo=!0})).finally((function(){o.loading=!1}))},getCategoryPairs:function(){var t=this;0===this.categoryPairs.length&&Object(f["c"])().then((function(o){t.categoryPairs=o.data}))},confirmCollect:function(){var t=this;this.loading=!0,r(Object(n["a"])({source:this.searchObj.source},this.waitCollectBookInfo)).then((function(o){t.$router.push({path:"/novel/collect/do",query:{bookId:o.data}})})).finally((function(){t.loading=!1}))},handleLook:function(t){var o=this;this.dialogInfo=!0,this.dialogInfoLoading=!0,d({source:this.searchObj.source,id:t.id}).then((function(t){o.lookList=t.data})).finally((function(){o.dialogInfoLoading=!1}))},lookArticle:function(t,o){var e=this;this.dialogInfoContent=!0,this.dialogInfoContentLoading=!0,u({source:this.searchObj.source,bookId:t,articleId:o}).then((function(t){e.lookContent=t.data})).finally((function(){e.dialogInfoContentLoading=!1}))}}},b=v,g=(e("fe1b"),e("2877")),h=Object(g["a"])(b,a,l,!1,null,"b9ab8cbe",null);o["default"]=h.exports},eac9:function(t,o,e){"use strict";e.d(o,"b",(function(){return l})),e.d(o,"d",(function(){return n})),e.d(o,"a",(function(){return i})),e.d(o,"c",(function(){return s}));var a=e("b775");function l(t){return Object(a["a"])({url:"/novel/category/list",method:"get",params:t})}function n(t){return Object(a["a"])({url:"/novel/category/save",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/novel/category/delete",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/novel/category/pairs",method:"get",params:t})}},fe1b:function(t,o,e){"use strict";e("93be")}}]);